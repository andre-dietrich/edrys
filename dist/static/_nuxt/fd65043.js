(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{515:function(e,t,r){"use strict";r.r(t);var n=r(26),o=(r(99),r(41),r(42),r(14),r(4),r(144),r(27),r(71),r(501)),l=r.n(o),c=r(498),v=r(497),m={name:"Student",props:["liveClassProxy"],computed:{username:function(){return this.$store.state.user.email},roomName:function(){return this.liveClassProxy.users[this.$store.state.user.email].room},selfAssign:function(){try{return this.$store.state.class_.meta.selfAssign}catch(e){}return!1}},watch:{"$store.state.user.displayName":function(){this.$store.state.class_&&(this.liveClassProxy.users[this.username].displayName=this.$store.state.user.displayName)},currentRoomName:function(){["md","sm","xs"].includes(this.$vuetify.breakpoint.name)&&this.$store.commit("toggleDrawer",!1)},liveClassProxy:function(){this.updateDisplay()}},methods:{updateDisplay:function(){this.liveTeacherCount=Object.values(this.liveClassProxy.users).filter((function(u){return"teacher"==u.role})).length,this.liveStudentCount=Object.values(this.liveClassProxy.users).filter((function(u){return"student"==u.role})).length,this.liveClassProxy&&!this.ready&&(this.ready=!0)},setCurrentRoom:function(e){this.liveClassProxy.users[this.username].room=e},enableAutoAssign:function(){this.liveClassProxy.autoAssign=this.username},userRoomChange:function(e){if("end"==e.type){var t=e.to.id.replace("$ROOM:","");e.item.id.replace("$EMAIL:","")==this.username&&this.setCurrentRoom(t)}}},data:function(){return{liveRoomProxy:{},ready:!1,liveTeacherCount:0,liveStudentCount:0,lists:{},myUrl:""}},mounted:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.ready=!0;case 1:case"end":return t.stop()}}),t)})))()},components:{Settings:r(499).default,Module:c.default,draggable:l.a,Modules:v.default}},d=r(108),h=r(143),f=r.n(h),_=r(209),y=r(98),C=r(618),w=r(605),x=r(619),$=r(628),V=r(206),L=r(534),P=r(513),S=r(495),R=r(536),k=r(514),N=r(629),A=r(624),I=r(179),component=Object(d.a)(m,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-navigation-drawer",{directives:[{name:"show",rawName:"v-show",value:e.selfAssign,expression:"selfAssign"}],attrs:{width:310,value:e.$store.state.drawer,app:"",clipped:""},on:{input:function(t){return e.$store.commit("toggleDrawer",t)}}},[r("v-list-item",{staticStyle:{margin:"10px"}},[r("v-list-item-content",[r("v-list-item-title",{staticClass:"text-h6"},[e._v("\n          "+e._s(e.$store.state.class_.name)+"\n        ")]),e._v(" "),r("v-list-item-subtitle",[e._v("\n          "+e._s(e.liveStudentCount)+"\n          "+e._s(1==e.liveStudentCount?"student":"students")+",\n          "+e._s(e.liveTeacherCount)+"\n          "+e._s(1==e.liveTeacherCount?"teacher":"teachers")+" online\n        ")])],1)],1),e._v(" "),r("v-list",{attrs:{dense:""}},[r("v-list-item-group",{attrs:{value:e.currentRoomName,mandatory:""}},e._l(Object.entries(e.liveClassProxy.rooms||{}),(function(t){var n=t[0],o=t[1];return r("div",{key:n,attrs:{value:n}},["Teacher's Lounge"!=n?r("v-divider"):e._e(),e._v(" "),r("v-hover",{scopedSlots:e._u([{key:"default",fn:function(t){t.hover;return["Teacher's Lounge"!=n?r("v-list-item",{attrs:{value:n,link:""},on:{click:function(){e.setCurrentRoom(n)}}},[r("v-list-item-icon",{staticStyle:{"margin-right":"15px"}},[r("v-icon",{attrs:{color:"grey"}},["Lobby"==n?[e._v("mdi-account-multiple")]:"PA Mode"==n?[e._v("mdi-bullhorn")]:n.startsWith("Station ")?[e._v("mdi-router-wireless")]:[e._v("mdi-forum")]],2)],1),e._v(" "),r("v-list-item-title",[e._v(e._s(n)+" ")]),e._v(" "),r("v-list-item-icon",[r("v-icon",{attrs:{color:"grey"}},[e._v("mdi-arrow-right")])],1)],1):e._e()]}}],null,!0)}),e._v(" "),r("v-list",{attrs:{dense:"",flat:""}},[r("draggable",{attrs:{group:"users",id:"$ROOM:"+n},on:{end:e.userRoomChange}},e._l(Object.entries(e.liveClassProxy.users).filter((function(e){e[0];return e[1].room==n})),(function(t){var n=t[0],l=t[1];return r("v-hover",{key:n,attrs:{id:"$EMAIL:"+n},scopedSlots:e._u([{key:"default",fn:function(t){var c=t.hover;return[r("v-list-item",{directives:[{name:"show",rawName:"v-show",value:o.userLinked!=n,expression:"room.userLinked != email"}],attrs:{disabled:n!=e.username,inactive:"",ripple:!1,selectable:!1}},[r("v-list-item-icon",{staticStyle:{"margin-right":"15px","margin-left":"20px"}},["student"==l.role?r("v-icon",{attrs:{color:"grey"}},[e._v("mdi-account-circle-outline")]):"teacher"==l.role?r("v-icon",{attrs:{color:"grey"}},[e._v("mdi-clipboard-account-outline")]):e._e()],1),e._v(" "),r("v-list-item-title",[e._v("\n                    "+e._s(l.displayName))]),e._v(" "),r("v-icon",{directives:[{name:"show",rawName:"v-show",value:c,expression:"hover"}],staticClass:"handle",attrs:{color:"grey"}},[e._v("mdi-drag-horizontal-variant")])],1)]}}],null,!0)})})),1)],1)],1)})),0)],1)],1),e._v(" "),r("v-slide-y-transition"),e._v(" "),r("v-container",[r("div",[e.ready?r("v-row",{attrs:{justify:"center",align:"center"}},[r("v-col",{attrs:{cols:"12",sm:"10",md:"10"}},[r("v-card",[r("v-card-title",[e._v(e._s(e.$store.state.class_.name)+" â€“ "+e._s(e.roomName))]),e._v(" "),r("Modules",{attrs:{role:"student",username:e.$store.state.user.email,"live-class-proxy":e.liveClassProxy}})],1)],1)],1):e._e()],1)])],1)}),[],!1,null,"9e7ad7d2",null);t.default=component.exports;f()(component,{Modules:r(497).default}),f()(component,{VCard:_.a,VCardTitle:y.d,VCol:C.a,VContainer:w.a,VDivider:x.a,VHover:$.a,VIcon:V.a,VList:L.a,VListItem:P.a,VListItemContent:S.a,VListItemGroup:R.a,VListItemIcon:k.a,VListItemSubtitle:S.b,VListItemTitle:S.c,VNavigationDrawer:N.a,VRow:A.a,VSlideYTransition:I.e})}}]);
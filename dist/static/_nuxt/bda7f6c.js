(window.webpackJsonp=window.webpackJsonp||[]).push([[10,8,9],{515:function(t,e,r){"use strict";r.r(e);var n=r(26),o=(r(99),r(41),r(42),r(14),r(4),r(144),r(27),r(71),r(501)),l=r.n(o),c=r(498),d=r(497),v={name:"Student",props:["liveClassProxy"],computed:{username:function(){return this.$store.state.user.email},roomName:function(){return this.liveClassProxy.users[this.$store.state.user.email].room},selfAssign:function(){try{return this.$store.state.class_.meta.selfAssign}catch(t){}return!1}},watch:{"$store.state.user.displayName":function(){this.$store.state.class_&&(this.liveClassProxy.users[this.username].displayName=this.$store.state.user.displayName)},currentRoomName:function(){["md","sm","xs"].includes(this.$vuetify.breakpoint.name)&&this.$store.commit("toggleDrawer",!1)},liveClassProxy:function(){this.updateDisplay()}},methods:{updateDisplay:function(){this.liveTeacherCount=Object.values(this.liveClassProxy.users).filter((function(u){return"teacher"==u.role})).length,this.liveStudentCount=Object.values(this.liveClassProxy.users).filter((function(u){return"student"==u.role})).length,this.liveClassProxy&&!this.ready&&(this.ready=!0)},setCurrentRoom:function(t){this.liveClassProxy.users[this.username].room=t},enableAutoAssign:function(){this.liveClassProxy.autoAssign=this.username},userRoomChange:function(t){if("end"==t.type){var e=t.to.id.replace("$ROOM:","");t.item.id.replace("$EMAIL:","")==this.username&&this.setCurrentRoom(e)}}},data:function(){return{liveRoomProxy:{},ready:!1,liveTeacherCount:0,liveStudentCount:0,lists:{},myUrl:""}},mounted:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.ready=!0;case 1:case"end":return e.stop()}}),e)})))()},components:{Settings:r(499).default,Module:c.default,draggable:l.a,Modules:d.default}},m=r(108),h=r(143),f=r.n(h),y=r(209),_=r(98),w=r(618),x=r(605),C=r(619),S=r(628),$=r(206),N=r(534),O=r(513),P=r(495),R=r(536),k=r(514),j=r(629),V=r(624),L=r(179),component=Object(m.a)(v,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-navigation-drawer",{directives:[{name:"show",rawName:"v-show",value:t.selfAssign,expression:"selfAssign"}],attrs:{width:310,value:t.$store.state.drawer,app:"",clipped:""},on:{input:function(e){return t.$store.commit("toggleDrawer",e)}}},[r("v-list-item",{staticStyle:{margin:"10px"}},[r("v-list-item-content",[r("v-list-item-title",{staticClass:"text-h6"},[t._v("\n          "+t._s(t.$store.state.class_.name)+"\n        ")]),t._v(" "),r("v-list-item-subtitle",[t._v("\n          "+t._s(t.liveStudentCount)+"\n          "+t._s(1==t.liveStudentCount?"student":"students")+",\n          "+t._s(t.liveTeacherCount)+"\n          "+t._s(1==t.liveTeacherCount?"teacher":"teachers")+" online\n        ")])],1)],1),t._v(" "),r("v-list",{attrs:{dense:""}},[r("v-list-item-group",{attrs:{value:t.currentRoomName,mandatory:""}},t._l(Object.entries(t.liveClassProxy.rooms||{}),(function(e){var n=e[0],o=e[1];return r("div",{key:n,attrs:{value:n}},["Teacher's Lounge"!=n?r("v-divider"):t._e(),t._v(" "),r("v-hover",{scopedSlots:t._u([{key:"default",fn:function(e){e.hover;return["Teacher's Lounge"!=n?r("v-list-item",{attrs:{value:n,link:""},on:{click:function(){t.setCurrentRoom(n)}}},[r("v-list-item-icon",{staticStyle:{"margin-right":"15px"}},[r("v-icon",{attrs:{color:"grey"}},["Lobby"==n?[t._v("mdi-account-multiple")]:"PA Mode"==n?[t._v("mdi-bullhorn")]:n.startsWith("Station ")?[t._v("mdi-router-wireless")]:[t._v("mdi-forum")]],2)],1),t._v(" "),r("v-list-item-title",[t._v(t._s(n)+" ")]),t._v(" "),r("v-list-item-icon",[r("v-icon",{attrs:{color:"grey"}},[t._v("mdi-arrow-right")])],1)],1):t._e()]}}],null,!0)}),t._v(" "),r("v-list",{attrs:{dense:"",flat:""}},[r("draggable",{attrs:{group:"users",id:"$ROOM:"+n},on:{end:t.userRoomChange}},t._l(Object.entries(t.liveClassProxy.users).filter((function(t){t[0];return t[1].room==n})),(function(e){var n=e[0],l=e[1];return r("v-hover",{key:n,attrs:{id:"$EMAIL:"+n},scopedSlots:t._u([{key:"default",fn:function(e){var c=e.hover;return[r("v-list-item",{directives:[{name:"show",rawName:"v-show",value:o.userLinked!=n,expression:"room.userLinked != email"}],attrs:{disabled:n!=t.username,inactive:"",ripple:!1,selectable:!1}},[r("v-list-item-icon",{staticStyle:{"margin-right":"15px","margin-left":"20px"}},["student"==l.role?r("v-icon",{attrs:{color:"grey"}},[t._v("mdi-account-circle-outline")]):"teacher"==l.role?r("v-icon",{attrs:{color:"grey"}},[t._v("mdi-clipboard-account-outline")]):t._e()],1),t._v(" "),r("v-list-item-title",[t._v("\n                    "+t._s(l.displayName))]),t._v(" "),r("v-icon",{directives:[{name:"show",rawName:"v-show",value:c,expression:"hover"}],staticClass:"handle",attrs:{color:"grey"}},[t._v("mdi-drag-horizontal-variant")])],1)]}}],null,!0)})})),1)],1)],1)})),0)],1)],1),t._v(" "),r("v-slide-y-transition"),t._v(" "),r("v-container",[r("div",[t.ready?r("v-row",{attrs:{justify:"center",align:"center"}},[r("v-col",{attrs:{cols:"12",sm:"10",md:"10"}},[r("v-card",[r("v-card-title",[t._v(t._s(t.$store.state.class_.name)+" â€“ "+t._s(t.roomName))]),t._v(" "),r("Modules",{attrs:{role:"student",username:t.$store.state.user.email,"live-class-proxy":t.liveClassProxy}})],1)],1)],1):t._e()],1)])],1)}),[],!1,null,"9e7ad7d2",null);e.default=component.exports;f()(component,{Modules:r(497).default}),f()(component,{VCard:y.a,VCardTitle:_.d,VCol:w.a,VContainer:x.a,VDivider:C.a,VHover:S.a,VIcon:$.a,VList:N.a,VListItem:O.a,VListItemContent:P.a,VListItemGroup:R.a,VListItemIcon:k.a,VListItemSubtitle:P.b,VListItemTitle:P.c,VNavigationDrawer:j.a,VRow:V.a,VSlideYTransition:L.e})},516:function(t,e,r){"use strict";r.r(e);r(27),r(41),r(42),r(60),r(71),r(61),r(14),r(4),r(13),r(83),r(22),r(304),r(144);var n=r(501),o=r.n(n),l=r(498),c=r(497),d={name:"Teacher",props:["liveClassProxy","isStation","stationName"],data:function(){return{settingspendingEdits:!1,ready:!1,liveTeacherCount:0,liveStudentCount:0,lists:{},myUrl:"",showSettings:!1,stationNameInput:"",stationNameRules:[function(t){return!!t||"Name required"},function(t){return/^([A-Za-z0-9 ]{1,50})$/.test(t)||"Up to 50 letters and numbers only"}]}},computed:{username:function(){return this.isStation?this.stationName:this.$store.state.user.email},currentRoomName:function(){return this.liveClassProxy.users[this.username].room}},watch:{"$store.state.user.displayName":function(){this.$store.state.class_&&(this.liveClassProxy.users[this.username].displayName=this.$store.state.user.displayName)},currentRoomName:function(){["md","sm","xs"].includes(this.$vuetify.breakpoint.name)&&this.$store.commit("toggleDrawer",!1)},liveClassProxy:function(){this.updateDisplay()}},mounted:function(){this.stationNameInput=this.stationName,this.updateDisplay(),this.$route.hash.includes("#settings")&&(this.showSettings=!0,window.location.hash=window.location.hash.replace("#settings",""))},methods:{addRoom:function(){var t=Object.keys(this.liveClassProxy.rooms).filter((function(t){return t.startsWith("Room ")})).map((function(t){return Number(t.replace("Room ",""))}));t.push(0),t.sort((function(a,b){return a-b})).reverse(),t=t[0]+1,this.liveClassProxy.rooms["Room "+t]={}},removeRoom:function(t){this.currentRoomName==t&&this.setCurrentRoom("Lobby"),this.liveClassProxy.rooms[t]=null},setStationName:function(){localStorage.stationName=this.stationNameInput,window.location.reload()},exitStationMode:function(){window.location.hash=window.location.hash.replace("#station",""),window.location.reload()},updateDisplay:function(){this.liveTeacherCount=Object.values(this.liveClassProxy.users).filter((function(u){return"teacher"==u.role})).length,this.liveStudentCount=Object.values(this.liveClassProxy.users).filter((function(u){return"student"==u.role})).length,this.liveClassProxy&&!this.ready&&(this.ready=!0)},setCurrentRoom:function(t){this.liveClassProxy.users[this.username].room=t},enableAutoAssign:function(){this.liveClassProxy.autoAssign=this.username},userRoomChange:function(t){if("end"==t.type){var e=t.to.id.replace("$ROOM:",""),r=t.item.id.replace("$EMAIL:","");r==this.username?this.setCurrentRoom(e):this.liveClassProxy.users[r].room=e}}},components:{Settings:r(499).default,Module:l.default,draggable:o.a,Modules:c.default}},v=r(108),m=r(143),h=r.n(m),f=r(224),y=r(209),_=r(98),w=r(618),x=r(605),C=r(487),S=r(619),$=r(489),N=r(628),O=r(206),P=r(534),R=r(513),k=r(495),j=r(536),V=r(514),L=r(629),I=r(211),E=r(624),A=r(179),M=r(221),component=Object(v.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-navigation-drawer",{attrs:{disabled:t.isStation,width:310,value:t.$store.state.drawer,app:"",clipped:""},on:{input:function(e){return t.$store.commit("toggleDrawer",e)}},scopedSlots:t._u([{key:"append",fn:function(){return[r("div",{staticClass:"pa-2"},[r("v-btn",{staticClass:"mb-2",attrs:{depressed:"",block:""},on:{click:t.addRoom}},[r("v-icon",{attrs:{left:""}},[t._v("mdi-forum")]),t._v("\n          New room\n        ")],1)],1)]},proxy:!0}])},[r("v-overlay",{attrs:{value:t.isStation,opacity:.8}},[r("v-card",{staticClass:"blue-grey darken-4 text-center",attrs:{tile:"",width:"100%"}},[r("v-card-text",{staticClass:"white--text"},[t._v(" Station Mode Active ")]),t._v(" "),r("v-divider"),t._v(" "),r("v-card-text",[r("v-form",{on:{submit:function(e){return e.preventDefault(),t.setStationName.apply(null,arguments)}}},[r("v-text-field",{attrs:{outlined:"",rules:t.stationNameRules,label:"Station Name",required:"","append-icon":"mdi-arrow-right"},on:{"click:append":t.setStationName},model:{value:t.stationNameInput,callback:function(e){t.stationNameInput=e},expression:"stationNameInput"}})],1),t._v("\n\n          This browser is now running as a station and ready to serve students\n        ")],1),t._v(" "),r("v-divider"),t._v(" "),r("v-card-text",[r("v-btn",{on:{click:t.exitStationMode}},[r("v-icon",{attrs:{left:""}},[t._v("mdi-export-variant")]),t._v("\n\n            Exit Station mode\n          ")],1)],1)],1)],1),t._v(" "),r("v-list-item",{staticStyle:{margin:"10px"}},[r("v-list-item-content",[r("v-list-item-title",{staticClass:"text-h6"},[t._v("\n          "+t._s(t.$store.state.class_.name)+"\n        ")]),t._v(" "),r("v-list-item-subtitle",[t._v("\n          "+t._s(t.liveStudentCount)+"\n          "+t._s(1==t.liveStudentCount?"student":"students")+",\n          "+t._s(t.liveTeacherCount)+"\n          "+t._s(1==t.liveTeacherCount?"teacher":"teachers")+" online\n        ")])],1),t._v(" "),r("v-list-item-icon",[r("v-btn",{attrs:{icon:"",color:"grey"},on:{click:function(e){t.showSettings=!t.showSettings}}},[r("v-icon",[t._v("mdi-cog")])],1)],1)],1),t._v(" "),r("v-list",{attrs:{dense:""}},[r("v-list-item-group",{attrs:{value:t.currentRoomName,mandatory:""}},t._l(Object.entries(t.liveClassProxy.rooms||{}),(function(e){var n=e[0],o=e[1];return r("div",{key:n,attrs:{value:n}},[r("v-divider"),t._v(" "),r("v-hover",{scopedSlots:t._u([{key:"default",fn:function(e){var o=e.hover;return[r("v-list-item",{attrs:{value:n,link:""},on:{click:function(){t.setCurrentRoom(n)}}},[r("v-list-item-icon",{staticStyle:{"margin-right":"15px"}},[r("v-icon",{attrs:{color:"grey"}},["Lobby"==n?[t._v("mdi-account-multiple")]:"PA Mode"==n?[t._v("mdi-bullhorn")]:n.startsWith("Station ")?[t._v("mdi-router-wireless")]:[t._v("mdi-forum")]],2)],1),t._v(" "),r("v-list-item-title",[t._v(t._s(n)+" ")]),t._v(" "),r("v-btn",{directives:[{name:"show",rawName:"v-show",value:o&&n.startsWith("Room "),expression:"hover && room_name.startsWith('Room ')"}],attrs:{icon:""},on:{click:function(e){return e.stopPropagation(),t.removeRoom(n)}}},[r("v-icon",{attrs:{color:"grey"}},[t._v("mdi-close")])],1),t._v(" "),r("v-list-item-icon",[r("v-icon",{attrs:{color:"grey"}},[t._v("mdi-arrow-right")])],1)],1)]}}],null,!0)}),t._v(" "),r("v-list",{attrs:{dense:"",flat:""}},[r("draggable",{attrs:{group:"users",id:"$ROOM:"+n},on:{end:t.userRoomChange}},t._l(Object.entries(t.liveClassProxy.users).filter((function(t){t[0];return t[1].room==n})),(function(e){var n=e[0],l=e[1];return r("v-hover",{key:n,attrs:{id:"$EMAIL:"+n},scopedSlots:t._u([{key:"default",fn:function(e){var c=e.hover;return[r("v-list-item",{directives:[{name:"show",rawName:"v-show",value:o.userLinked!=n,expression:"room.userLinked != email"}],attrs:{inactive:"",ripple:!1,selectable:!1}},[r("v-list-item-icon",{staticStyle:{"margin-right":"15px","margin-left":"20px"}},["student"==l.role?r("v-icon",{attrs:{color:"grey"}},[t._v("mdi-account-circle-outline")]):"teacher"==l.role?r("v-icon",{attrs:{color:"grey"}},[t._v("mdi-clipboard-account-outline")]):t._e()],1),t._v(" "),r("v-list-item-title",[t._v("\n                    "+t._s(l.displayName))]),t._v(" "),r("v-icon",{directives:[{name:"show",rawName:"v-show",value:c,expression:"hover"}],staticClass:"handle",attrs:{color:"grey"}},[t._v("mdi-drag-horizontal-variant")])],1)]}}],null,!0)})})),1)],1)],1)})),0)],1)],1),t._v(" "),r("v-dialog",{attrs:{"max-width":"700px",scrollable:"",persistent:t.settingspendingEdits},model:{value:t.showSettings,callback:function(e){t.showSettings=e},expression:"showSettings"}},[r("Settings",{attrs:{pendingEdits:t.settingspendingEdits},on:{"update:pendingEdits":function(e){t.settingspendingEdits=e},"update:pending-edits":function(e){t.settingspendingEdits=e},close:function(e){t.showSettings=!1}}})],1),t._v(" "),r("v-slide-y-transition"),t._v(" "),r("v-container",[t.ready?r("div",[r("v-row",{attrs:{justify:"center",align:"center"}},[r("v-col",{attrs:{cols:"12",sm:"10",md:"10"}},[r("v-card",[r("v-card-title",[t._v(" "+t._s(t.currentRoomName)+" ")]),t._v(" "),r("Modules",{attrs:{role:t.isStation?"station":"teacher",username:t.username,"live-class-proxy":t.liveClassProxy}})],1)],1)],1)],1):t._e()])],1)}),[],!1,null,"eb4b4f42",null);e.default=component.exports;h()(component,{Settings:r(499).default,Modules:r(497).default}),h()(component,{VBtn:f.a,VCard:y.a,VCardText:_.c,VCardTitle:_.d,VCol:w.a,VContainer:x.a,VDialog:C.a,VDivider:S.a,VForm:$.a,VHover:N.a,VIcon:O.a,VList:P.a,VListItem:R.a,VListItemContent:k.a,VListItemGroup:j.a,VListItemIcon:V.a,VListItemSubtitle:k.b,VListItemTitle:k.c,VNavigationDrawer:L.a,VOverlay:I.a,VRow:E.a,VSlideYTransition:A.e,VTextField:M.a})},630:function(t,e,r){"use strict";r.r(e);r(59),r(65),r(27),r(12),r(73),r(85),r(15),r(11),r(16);var n=r(17),o=r(56),l=r(2),c=r(26),d=(r(14),r(4),r(121),r(42),r(41),r(60),r(32),r(46),r(58),r(301),r(180),r(13),r(72),r(99),r(515));function v(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function m(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(Object(source),!0).forEach((function(e){Object(l.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):v(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}function h(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return f(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return l=t.done,t},e:function(t){c=!0,o=t},f:function(){try{l||null==r.return||r.return()}finally{if(c)throw o}}}}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}var y={name:"ClassPage",data:function(){return{ready:!1,liveClass:void 0,liveClassProxy:void 0,role:"",liveClassEventSource:void 0,isStation:!1,stationName:"",modulesLoaded:!1}},head:function(){return{title:"Class"}},watch:{"$store.state.class_.modules":function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function e(){var r,n,o,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.modulesLoaded=!1,r=[],n=h(t.$store.state.class_.modules),e.prev=3,n.s();case 5:if((o=n.n()).done){e.next=14;break}return l=o.value,e.t0=r,e.next=10,t.scrapeModule(l);case 10:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 12:e.next=5;break;case 14:e.next=19;break;case 16:e.prev=16,e.t2=e.catch(3),n.e(e.t2);case 19:return e.prev=19,n.f(),e.finish(19);case 22:t.$store.commit("setScrapedModules",r),t.modulesLoaded=!0;case 24:case"end":return e.stop()}}),e,null,[[3,16,19,22]])})))()},"$store.state.class_":function(t,e){var r=this;return Object(c.a)(regeneratorRuntime.mark((function t(){var e,n,l,c,d,v,h;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.ready=!1,e=void 0,null!==r.$store.state.class_){t.next=6;break}e=m(m({},r.$store.state.user),{},{memberships:r.$store.state.user.memberships.filter((function(t){return t.class_id!=r.$route.params.id}))}),t.next=13;break;case 6:if(!r.$store.state.class_){t.next=11;break}(l=null===(n=r.$store.state.user.memberships)||void 0===n?void 0:n.find((function(t){return t.class_id==r.$route.params.id&&t.instance==r.$store.state.instance})))&&l.role==r.role&&l.class_name==r.$store.state.class_.name||(null!==(c=r.$store.state.class_.members.teacher)&&void 0!==c&&c.includes(localStorage.email)?r.role="teacher":null!==(d=r.$store.state.class_.members.student)&&void 0!==d&&d.includes(localStorage.email)&&(r.role="student"),e=m(m({},r.$store.state.user),{},{memberships:[{instance:r.$store.state.instance,class_id:r.$route.params.id,class_name:r.$store.state.class_.name,meta:(null===(v=r.$store.state.class_)||void 0===v?void 0:v.meta)||{logo:"",description:"",selfAssign:!1},role:r.role}].concat(Object(o.a)(r.$store.state.user.memberships.filter((function(t){return t.class_id!=r.$route.params.id}))))})),t.next=13;break;case 11:return console.log("Undefined class"),t.abrupt("return");case 13:if(!e){t.next=19;break}return t.t0=r.$store,t.next=17,r.$axios.$get("/data/updateUser?user=".concat(encodeURIComponent(JSON.stringify(e))));case 17:t.t1=t.sent,t.t0.commit.call(t.t0,"setUser",t.t1);case 19:if(null!==r.$store.state.class_){t.next=23;break}return r.$router.push({path:"/"}),r.$emit("class-not-found"),t.abrupt("return");case 23:r.liveClassEventSource?r.ready=!0:((h=new URL("".concat(r.$store.state.instance,"/data/readLiveClass/").concat(r.$route.params.id))).searchParams.append("displayName",r.isStation?r.stationName:r.$store.state.user.displayName),h.searchParams.append("jwt",localStorage.jwt),r.isStation&&h.searchParams.append("isStation","true"),r.liveClassEventSource=new EventSource(h.href),r.liveClassEventSource.addEventListener("update",(function(t){r.liveClass=JSON.parse(t.data),r.buildLiveClassProxy(),r.ready=!0,r.$store.state.user.email&&!Object.keys(r.liveClass.rooms).includes(r.liveClass.users[r.$store.state.user.email].room)&&(r.liveClassProxy.users[r.$store.state.user.email].room="Lobby")})),r.liveClassEventSource.addEventListener("message",(function(t){r.$store.commit("setLastRecievedMessage",JSON.parse(t.data))})));case 24:case"end":return t.stop()}}),t)})))()}},mounted:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.location.hash.includes("#station")?(t.isStation=!0,t.stationName=localStorage.stationName||(new Date).getTime().toString()):(t.isStation=!1,t.stationName=void 0),e.next=3,t.fetchClass();case 3:case"end":return e.stop()}}),e)})))()},methods:{buildLiveClassProxy:function(){var t=this;this.liveClassProxy=new Proxy(this.liveClass,function e(path){return{get:function(t,r){if("isProxy"==r)return!0;var l=t[r];return void 0!==l?(l.isProxy||"object"!==Object(n.a)(l)||(t[r]=new Proxy(l,e([].concat(Object(o.a)(path),[r])))),t[r]):void 0},set:(r=Object(c.a)(regeneratorRuntime.mark((function e(r,n,l){var c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(path.includes("__ob__")){e.next=4;break}return c=[].concat(Object(o.a)(path),[n]),e.next=4,t.$axios.$get("/data/updateLiveClass/".concat(t.$store.state.class_.id,"?update=").concat(encodeURIComponent(JSON.stringify({path:c,value:l}))));case 4:return r[n]=l,e.abrupt("return",!0);case 6:case"end":return e.stop()}}),e)}))),function(t,e,n){return r.apply(this,arguments)})};var r}(""))},fetchClass:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=t.$store,e.next=4,t.$axios.$get("/data/readClass/".concat(t.$route.params.id));case 4:return e.t1=e.sent,e.t0.commit.call(e.t0,"setClass",e.t1),e.abrupt("return",!0);case 9:if(e.prev=9,e.t2=e.catch(0),404!=e.t2.response.status){e.next=14;break}return t.$store.commit("setClass",null),e.abrupt("return",!1);case 14:throw new Error("Unknown response in class page");case 15:case"end":return e.stop()}}),e,null,[[0,9]])})))()}},components:{Teacher:r(516).default,Student:d.default}},_=y,w=r(108),x=r(143),C=r.n(x),S=r(208),component=Object(w.a)(_,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t.ready&&t.modulesLoaded?r("div",["teacher"==t.role?r("Teacher",{attrs:{"live-class-proxy":t.liveClassProxy,"is-station":t.isStation,"station-name":t.stationName}}):"student"==t.role?r("Student",{attrs:{"live-class-proxy":t.liveClassProxy}}):t._e()],1):r("div",{attrs:{justify:"center",align:"center"}},[r("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1)])}),[],!1,null,"cf4a7272",null);e.default=component.exports;C()(component,{Teacher:r(516).default,Student:r(515).default}),C()(component,{VProgressCircular:S.a})}}]);
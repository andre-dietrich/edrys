(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{516:function(t,e,n){"use strict";n.r(e);n(27),n(41),n(42),n(60),n(71),n(61),n(14),n(4),n(13),n(83),n(22),n(304),n(144);var o=n(501),r=n.n(o),l=n(498),c=n(497),v={name:"Teacher",props:["liveClassProxy","isStation","stationName"],data:function(){return{settingspendingEdits:!1,ready:!1,liveTeacherCount:0,liveStudentCount:0,lists:{},myUrl:"",showSettings:!1,stationNameInput:"",stationNameRules:[function(t){return!!t||"Name required"},function(t){return/^([A-Za-z0-9 ]{1,50})$/.test(t)||"Up to 50 letters and numbers only"}]}},computed:{username:function(){return this.isStation?this.stationName:this.$store.state.user.email},currentRoomName:function(){return this.liveClassProxy.users[this.username].room}},watch:{"$store.state.user.displayName":function(){this.$store.state.class_&&(this.liveClassProxy.users[this.username].displayName=this.$store.state.user.displayName)},currentRoomName:function(){["md","sm","xs"].includes(this.$vuetify.breakpoint.name)&&this.$store.commit("toggleDrawer",!1)},liveClassProxy:function(){this.updateDisplay()}},mounted:function(){this.stationNameInput=this.stationName,this.updateDisplay(),this.$route.hash.includes("#settings")&&(this.showSettings=!0,window.location.hash=window.location.hash.replace("#settings",""))},methods:{addRoom:function(){var t=Object.keys(this.liveClassProxy.rooms).filter((function(t){return t.startsWith("Room ")})).map((function(t){return Number(t.replace("Room ",""))}));t.push(0),t.sort((function(a,b){return a-b})).reverse(),t=t[0]+1,this.liveClassProxy.rooms["Room "+t]={}},removeRoom:function(t){this.currentRoomName==t&&this.setCurrentRoom("Lobby"),this.liveClassProxy.rooms[t]=null},setStationName:function(){localStorage.stationName=this.stationNameInput,window.location.reload()},exitStationMode:function(){window.location.hash=window.location.hash.replace("#station",""),window.location.reload()},updateDisplay:function(){this.liveTeacherCount=Object.values(this.liveClassProxy.users).filter((function(u){return"teacher"==u.role})).length,this.liveStudentCount=Object.values(this.liveClassProxy.users).filter((function(u){return"student"==u.role})).length,this.liveClassProxy&&!this.ready&&(this.ready=!0)},setCurrentRoom:function(t){this.liveClassProxy.users[this.username].room=t},enableAutoAssign:function(){this.liveClassProxy.autoAssign=this.username},userRoomChange:function(t){if("end"==t.type){var e=t.to.id.replace("$ROOM:",""),n=t.item.id.replace("$EMAIL:","");n==this.username?this.setCurrentRoom(e):this.liveClassProxy.users[n].room=e}}},components:{Settings:n(499).default,Module:l.default,draggable:r.a,Modules:c.default}},d=n(108),m=n(143),h=n.n(m),f=n(224),y=n(209),_=n(98),w=n(618),x=n(605),C=n(487),S=n(619),N=n(489),R=n(628),V=n(206),k=n(534),P=n(513),I=n(495),$=n(536),L=n(514),M=n(629),E=n(211),O=n(624),T=n(179),D=n(221),component=Object(d.a)(v,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-navigation-drawer",{attrs:{disabled:t.isStation,width:310,value:t.$store.state.drawer,app:"",clipped:""},on:{input:function(e){return t.$store.commit("toggleDrawer",e)}},scopedSlots:t._u([{key:"append",fn:function(){return[n("div",{staticClass:"pa-2"},[n("v-btn",{staticClass:"mb-2",attrs:{depressed:"",block:""},on:{click:t.addRoom}},[n("v-icon",{attrs:{left:""}},[t._v("mdi-forum")]),t._v("\n          New room\n        ")],1)],1)]},proxy:!0}])},[n("v-overlay",{attrs:{value:t.isStation,opacity:.8}},[n("v-card",{staticClass:"blue-grey darken-4 text-center",attrs:{tile:"",width:"100%"}},[n("v-card-text",{staticClass:"white--text"},[t._v(" Station Mode Active ")]),t._v(" "),n("v-divider"),t._v(" "),n("v-card-text",[n("v-form",{on:{submit:function(e){return e.preventDefault(),t.setStationName.apply(null,arguments)}}},[n("v-text-field",{attrs:{outlined:"",rules:t.stationNameRules,label:"Station Name",required:"","append-icon":"mdi-arrow-right"},on:{"click:append":t.setStationName},model:{value:t.stationNameInput,callback:function(e){t.stationNameInput=e},expression:"stationNameInput"}})],1),t._v("\n\n          This browser is now running as a station and ready to serve students\n        ")],1),t._v(" "),n("v-divider"),t._v(" "),n("v-card-text",[n("v-btn",{on:{click:t.exitStationMode}},[n("v-icon",{attrs:{left:""}},[t._v("mdi-export-variant")]),t._v("\n\n            Exit Station mode\n          ")],1)],1)],1)],1),t._v(" "),n("v-list-item",{staticStyle:{margin:"10px"}},[n("v-list-item-content",[n("v-list-item-title",{staticClass:"text-h6"},[t._v("\n          "+t._s(t.$store.state.class_.name)+"\n        ")]),t._v(" "),n("v-list-item-subtitle",[t._v("\n          "+t._s(t.liveStudentCount)+"\n          "+t._s(1==t.liveStudentCount?"student":"students")+",\n          "+t._s(t.liveTeacherCount)+"\n          "+t._s(1==t.liveTeacherCount?"teacher":"teachers")+" online\n        ")])],1),t._v(" "),n("v-list-item-icon",[n("v-btn",{attrs:{icon:"",color:"grey"},on:{click:function(e){t.showSettings=!t.showSettings}}},[n("v-icon",[t._v("mdi-cog")])],1)],1)],1),t._v(" "),n("v-list",{attrs:{dense:""}},[n("v-list-item-group",{attrs:{value:t.currentRoomName,mandatory:""}},t._l(Object.entries(t.liveClassProxy.rooms||{}),(function(e){var o=e[0],r=e[1];return n("div",{key:o,attrs:{value:o}},[n("v-divider"),t._v(" "),n("v-hover",{scopedSlots:t._u([{key:"default",fn:function(e){var r=e.hover;return[n("v-list-item",{attrs:{value:o,link:""},on:{click:function(){t.setCurrentRoom(o)}}},[n("v-list-item-icon",{staticStyle:{"margin-right":"15px"}},[n("v-icon",{attrs:{color:"grey"}},["Lobby"==o?[t._v("mdi-account-multiple")]:"PA Mode"==o?[t._v("mdi-bullhorn")]:o.startsWith("Station ")?[t._v("mdi-router-wireless")]:[t._v("mdi-forum")]],2)],1),t._v(" "),n("v-list-item-title",[t._v(t._s(o)+" ")]),t._v(" "),n("v-btn",{directives:[{name:"show",rawName:"v-show",value:r&&o.startsWith("Room "),expression:"hover && room_name.startsWith('Room ')"}],attrs:{icon:""},on:{click:function(e){return e.stopPropagation(),t.removeRoom(o)}}},[n("v-icon",{attrs:{color:"grey"}},[t._v("mdi-close")])],1),t._v(" "),n("v-list-item-icon",[n("v-icon",{attrs:{color:"grey"}},[t._v("mdi-arrow-right")])],1)],1)]}}],null,!0)}),t._v(" "),n("v-list",{attrs:{dense:"",flat:""}},[n("draggable",{attrs:{group:"users",id:"$ROOM:"+o},on:{end:t.userRoomChange}},t._l(Object.entries(t.liveClassProxy.users).filter((function(t){t[0];return t[1].room==o})),(function(e){var o=e[0],l=e[1];return n("v-hover",{key:o,attrs:{id:"$EMAIL:"+o},scopedSlots:t._u([{key:"default",fn:function(e){var c=e.hover;return[n("v-list-item",{directives:[{name:"show",rawName:"v-show",value:r.userLinked!=o,expression:"room.userLinked != email"}],attrs:{inactive:"",ripple:!1,selectable:!1}},[n("v-list-item-icon",{staticStyle:{"margin-right":"15px","margin-left":"20px"}},["student"==l.role?n("v-icon",{attrs:{color:"grey"}},[t._v("mdi-account-circle-outline")]):"teacher"==l.role?n("v-icon",{attrs:{color:"grey"}},[t._v("mdi-clipboard-account-outline")]):t._e()],1),t._v(" "),n("v-list-item-title",[t._v("\n                    "+t._s(l.displayName))]),t._v(" "),n("v-icon",{directives:[{name:"show",rawName:"v-show",value:c,expression:"hover"}],staticClass:"handle",attrs:{color:"grey"}},[t._v("mdi-drag-horizontal-variant")])],1)]}}],null,!0)})})),1)],1)],1)})),0)],1)],1),t._v(" "),n("v-dialog",{attrs:{"max-width":"700px",scrollable:"",persistent:t.settingspendingEdits},model:{value:t.showSettings,callback:function(e){t.showSettings=e},expression:"showSettings"}},[n("Settings",{attrs:{pendingEdits:t.settingspendingEdits},on:{"update:pendingEdits":function(e){t.settingspendingEdits=e},"update:pending-edits":function(e){t.settingspendingEdits=e},close:function(e){t.showSettings=!1}}})],1),t._v(" "),n("v-slide-y-transition"),t._v(" "),n("v-container",[t.ready?n("div",[n("v-row",{attrs:{justify:"center",align:"center"}},[n("v-col",{attrs:{cols:"12",sm:"10",md:"10"}},[n("v-card",[n("v-card-title",[t._v(" "+t._s(t.currentRoomName)+" ")]),t._v(" "),n("Modules",{attrs:{role:t.isStation?"station":"teacher",username:t.username,"live-class-proxy":t.liveClassProxy}})],1)],1)],1)],1):t._e()])],1)}),[],!1,null,"eb4b4f42",null);e.default=component.exports;h()(component,{Settings:n(499).default,Modules:n(497).default}),h()(component,{VBtn:f.a,VCard:y.a,VCardText:_.c,VCardTitle:_.d,VCol:w.a,VContainer:x.a,VDialog:C.a,VDivider:S.a,VForm:N.a,VHover:R.a,VIcon:V.a,VList:k.a,VListItem:P.a,VListItemContent:I.a,VListItemGroup:$.a,VListItemIcon:L.a,VListItemSubtitle:I.b,VListItemTitle:I.c,VNavigationDrawer:M.a,VOverlay:E.a,VRow:O.a,VSlideYTransition:T.e,VTextField:D.a})}}]);